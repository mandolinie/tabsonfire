document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("cookies"),e=document.getElementById("cookiesAcceptButton"),n=document.getElementById("cookiesDeclineButton"),i=localStorage.getItem("TabsOnFire ðŸ”¥ðŸ—‚ï¸ Cookies");function o(){const t=document.createElement("script");function e(){dataLayer.push(arguments)}t.src="https://www.googletagmanager.com/gtag/js?id=G-43C8S7QD4X",t.async=!0,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=e,e("js",new Date),e("config","G-43C8S7QD4X",{anonymize_ip:!0})}i?(t.style.display="none","accepted"===i&&o()):t.style.display="block",e.addEventListener("click",(function(){localStorage.setItem("TabsOnFire ðŸ”¥ðŸ—‚ï¸ Cookies","accepted"),t.style.display="none",o()})),n.addEventListener("click",(function(){localStorage.setItem("TabsOnFire ðŸ”¥ðŸ—‚ï¸ Cookies","declined"),t.style.display="none"}))}));const currentPage=document.body.id;document.querySelectorAll("nav a").forEach((t=>{t.dataset.page===currentPage&&t.classList.add("active")}));const inputsDiv=document.getElementById("urls"),snippet=document.getElementById("snippet"),addBtn=document.getElementById("addBtn"),copyBtn=document.getElementById("copyBtn"),arrowTemplate=document.getElementById("arrowTemplate").content;function updateSnippet(){const t=[...inputsDiv.querySelectorAll(".url-input")].map((t=>t.value.trim())).filter((t=>""!==t));snippet.value=t.join("|")}function updateInputsFromSnippet(){const t=snippet.value.split("|").map((t=>t.trim()));inputsDiv.innerHTML="",0!==t.length?(t.forEach((t=>{addInput(t)})),updateArrowButtonsState()):addInput()}function addInput(t=""){const e=document.createElement("div");e.className="input-wrapper";const n=document.createElement("input");n.type="text",n.className="url-input",n.value=t,n.placeholder="https://www.example.com",e.appendChild(n);const i=document.importNode(arrowTemplate,!0);e.appendChild(i),inputsDiv.appendChild(e),updateSnippet(),updateArrowButtonsState()}function moveWrapper(t,e){"up"===e&&t.previousElementSibling&&inputsDiv.insertBefore(t,t.previousElementSibling),"down"===e&&t.nextElementSibling&&inputsDiv.insertBefore(t.nextElementSibling,t),updateSnippet(),updateArrowButtonsState()}function updateArrowButtonsState(){const t=inputsDiv.querySelectorAll(".input-wrapper");if(t.forEach((t=>{const e=t.querySelector(".upBtn"),n=t.querySelector(".downBtn");e&&(e.classList.remove("disabled"),e.removeAttribute("tabindex")),n&&(n.classList.remove("disabled"),n.removeAttribute("tabindex"))})),!t.length)return;const e=t[0].querySelector(".upBtn");e&&(e.classList.add("disabled"),e.setAttribute("tabindex","-1"));const n=t[t.length-1].querySelector(".downBtn");n&&(n.classList.add("disabled"),n.setAttribute("tabindex","-1"))}inputsDiv.addEventListener("click",(t=>{const e=t.target.closest(".upBtn"),n=t.target.closest(".downBtn"),i=t.target.closest(".removeBtn"),o=t.target.closest(".input-wrapper");o&&(e&&(moveWrapper(o,"up"),e.blur()),n&&(moveWrapper(o,"down"),n.blur()),i&&(o.remove(),updateSnippet(),updateArrowButtonsState()))})),inputsDiv.addEventListener("input",updateSnippet),snippet.addEventListener("input",(()=>{const t=snippet.value,e=snippet.selectionStart,n=snippet.selectionEnd;(0===t.length||!t.startsWith("|")&&!t.endsWith("|")&&!t.includes("||"))&&updateInputsFromSnippet(),snippet.setSelectionRange(e,n)})),addBtn.addEventListener("click",(()=>addInput())),inputsDiv.querySelector(".input-wrapper")||addInput(),updateArrowButtonsState(),copyBtn.addEventListener("click",(async()=>{try{await navigator.clipboard.writeText(snippet.value);const t=copyBtn.innerHTML;copyBtn.innerHTML="Copied to clipboard!",setTimeout((()=>{copyBtn.innerHTML=t}),2e3)}catch(t){const e=copyBtn.innerHTML;copyBtn.innerHTML="Failed to copy",setTimeout((()=>{copyBtn.innerHTML=e}),2e3)}}));